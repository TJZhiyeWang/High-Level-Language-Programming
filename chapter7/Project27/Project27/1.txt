gagfad
[test]
#define _CRT_SECURE_NO_WARNINGS
#include <iostream>
#include <fstream>
#include <Windows.h>
#include <io.h>
#include <experimental/filesystem>
using namespace std;

int group_add(fstream &fp, const char *group_name)
{
    while (fp.peek()!=EOF)
	{
		char c = fp.get();
		
		if (c == '[')
		{
			char ch[99];
			fp.get(ch, 99, ']');
			fp.ignore();
			if (strcmp(ch, group_name) == 0)
				return 0;
		}
		
    }
	fp.clear();
	fp.seekg(0, ios::end);
	fp << "\r"<<"\n";
	fp.put('[');
	fp.write(group_name, strlen(group_name));
	fp.put(']');
	return 1;
	
}
int group_del(fstream &fp, const char *group_name)
{
	while (fp.peek() != EOF)
	{
		char c = fp.get();

		if (c == '[')
		{
			char ch[99];
			fp.get(ch, 99, ']');
			fp.ignore();
			if (strcmp(ch, group_name) == 0)
			{
				int len = 1;
				fp.seekg(-2 - strlen(group_name), ios::cur);
				while (fp.peek() != EOF&&fp.peek() != '[')
					len++;
				fp.seekg(-len, ios::cur);
				char *p;
				p = new(nothrow) char[len];
				for (int i = 0; i < len; i++)
					p[i] = ' ';
				fp.write(p, len);
				return 1;
			}
		}

	}
	return 0;
}
/*int item_add(fstream &fp, const char *group_name, const char *item_name, const void *item_value, const enum ITEM_TYPE item_type)
{

}
int item_del(fstream &fp, const char *group_name, const char *item_name)
{

}
int item_update(fstream &fp, const char *group_name, const char *item_name, const void *item_value, const enum ITEM_TYPE item_type)
{

}
int item_get_value(fstream &fp, const char *group_name, const char *item_name, void *item_value, const enum ITEM_TYPE item_type)
{

}*/
int main()
{
	fstream fp;
	fp.open("UEdit32.ini", ios::out|ios::in|ios::binary);
	if (fp.is_open() == 0)
		cout << "open failed";
	
	cout<<group_del(fp, "Print Settings");
	fp.close();
	return 0;
}